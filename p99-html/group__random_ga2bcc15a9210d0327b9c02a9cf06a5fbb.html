<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P99: p99_seed</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">P99
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="group__random.html">Pseudo Random Generator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="contents">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindexHL" href="group__random_ga2bcc15a9210d0327b9c02a9cf06a5fbb.html#ga2bcc15a9210d0327b9c02a9cf06a5fbb">p99_seed</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__random_gaba9e2ac41bb4366d89f1b4e9e25a5858.html#gaba9e2ac41bb4366d89f1b4e9e25a5858">P99_TSS_DECLARE_LOCAL</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top" class="mempage">
<a id="ga2bcc15a9210d0327b9c02a9cf06a5fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bcc15a9210d0327b9c02a9cf06a5fbb">&#9670;&nbsp;</a></span>p99_seed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef p00_seed160 p99_seed[2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The internal state that the PRG for ::p99_rand and ::p99_drand uses. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Usually you don't have to deal with this type other than the cases described for ::p99_seed_get.</dd></dl>
<p>This is currently a set of 12 values of type <code>uint32_t</code>, so 384 bits. Any reasonable initialization with true random bits of such a state variable should give you a different PRG of cycle length 2^160. (Reasonable here means that initializations with 160 consecutive 0 bits or more should be avoided.)</p>
<p>P99 initializes a different state for each thread that uses the corresponding functions. The setup of that state for each thread may incur a cost of about 16 to 20 times the call to ::p99_rand. The initialization only produces one state out of 2^160 possibilities, so the state space of 384 is not used optimally.</p>
<p>Please let me know if you have an idea of using other portable sources of randomness for the initialization, currently we use the wall clock time, monotonic time (if available), the stack address of the thread and a per thread malloced address. This guarantees that the states are different for all threads that run concurrently (they will not have the same stack or malloced address) or that are scheduled with a suitable time difference that exceeds the clock granularity (they will not use the same time stamp).</p>
<p>All of this is only a heuristic and can be spoofed; it might give the same initial state for threads that are schedule in short sequence if:</p><ul>
<li>the first thread terminates before the second is started</li>
<li>the second obtains the same time stamp as the first</li>
<li>the second is scheduled with the same stack address as the first</li>
<li>the second receives exactly the same address from <code>malloc</code>.</li>
</ul>
<p>Under non-hostile circumstance this should only occur on a combination of platform and code that quickly launches a lot of threads (thousands) and has no good address randomization and a low granularity clock. </p>

<p class="definition">Definition at line <a class="el" href="p99__rand_8h_source.html#l00109">109</a> of file <a class="el" href="p99__rand_8h_source.html">p99_rand.h</a>.</p>

</div>
</div>
    </td>
  </tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
